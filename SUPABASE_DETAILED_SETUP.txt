ðŸš€ SUPABASE SETUP - DETAILED ACTION STEPS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 1: PROJECT CREATION (5 minutes)

STEP 1: Create Supabase Account
â–¡ Go to https://supabase.com
â–¡ Click "Start your project"
â–¡ Sign up with email/GitHub
â–¡ Verify email
â–¡ Done!

STEP 2: Create New Project
â–¡ Click "New project" button
â–¡ Fill in:
  â–¡ Project name: healtone
  â–¡ Database password: Tr0pic@lSunset$2026! (SAVE THIS!)
  â–¡ Region: us-east-1 (or closest to you)
â–¡ Click "Create new project"
â–¡ â³ Wait 2-5 minutes...
â–¡ Refresh page when complete

STEP 3: Get API Keys
â–¡ Click "Project Settings" (gear icon, bottom left)
â–¡ Click "API" in left sidebar
â–¡ Copy these EXACTLY:
  â–¡ Project URL: https://[something].supabase.co
  â–¡ Anon Key: eyJ[long string]...
â–¡ Save in a text file (you'll need them soon)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 2: DATABASE SETUP (10 minutes)

STEP 4: Create Profiles Table
â–¡ Click "SQL Editor" (left sidebar)
â–¡ Click "New query" button
â–¡ Copy ENTIRE SQL from below
â–¡ Paste into editor
â–¡ Click "Run" button
â–¡ Wait for "Success" message
â–¡ âœ… Table created!

COPY THIS SQL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE TABLE profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id),
  email TEXT NOT NULL UNIQUE,
  full_name TEXT,
  avatar_url TEXT,
  subscription_tier TEXT DEFAULT 'free' CHECK (subscription_tier IN ('free', 'weekly', 'lifetime', 'trial')),
  subscription_status TEXT DEFAULT 'inactive' CHECK (subscription_status IN ('active', 'inactive')),
  trial_started_at TIMESTAMP WITH TIME ZONE,
  trial_ends_at TIMESTAMP WITH TIME ZONE,
  is_admin BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_profiles_email ON profiles(email);
CREATE INDEX idx_profiles_subscription_tier ON profiles(subscription_tier);
CREATE INDEX idx_profiles_trial ON profiles(trial_started_at, trial_ends_at);

ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view their own profile"
  ON profiles
  FOR SELECT
  USING (auth.uid() = id);

CREATE POLICY "Users can update their own profile"
  ON profiles
  FOR UPDATE
  USING (auth.uid() = id)
  WITH CHECK (auth.uid() = id);

CREATE POLICY "Users can insert their own profile"
  ON profiles
  FOR INSERT
  WITH CHECK (auth.uid() = id);
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 5: Create Trial Views
â–¡ Click "SQL Editor" again
â–¡ Click "New query"
â–¡ Copy SQL below
â–¡ Paste into editor
â–¡ Click "Run"
â–¡ âœ… Views created!

COPY THIS SQL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE OR REPLACE VIEW active_trials AS
SELECT 
  id,
  email,
  full_name,
  trial_started_at,
  trial_ends_at,
  CURRENT_TIMESTAMP AT TIME ZONE 'UTC' as current_time,
  (trial_ends_at > CURRENT_TIMESTAMP AT TIME ZONE 'UTC') as is_active,
  EXTRACT(DAY FROM trial_ends_at - CURRENT_TIMESTAMP AT TIME ZONE 'UTC') as days_remaining
FROM profiles
WHERE trial_started_at IS NOT NULL;

CREATE OR REPLACE VIEW expired_trials AS
SELECT 
  id,
  email,
  full_name,
  trial_started_at,
  trial_ends_at,
  EXTRACT(DAY FROM CURRENT_TIMESTAMP AT TIME ZONE 'UTC' - trial_ends_at) as days_expired
FROM profiles
WHERE trial_started_at IS NOT NULL 
  AND trial_ends_at < CURRENT_TIMESTAMP AT TIME ZONE 'UTC'
  AND subscription_tier = 'trial';
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 3: AUTHENTICATION (5 minutes)

STEP 6: Configure Email Authentication
â–¡ Click "Authentication" (left sidebar)
â–¡ Click "Settings" tab
â–¡ Under "Email Auth":
  â–¡ Make sure "Enable email/password" is ON âœ“
  â–¡ Make sure "Confirm email" is ON âœ“
â–¡ Leave other settings default
â–¡ âœ… Email auth ready!

STEP 7: Enable Google OAuth
â–¡ Still in "Authentication"
â–¡ Click "Providers" tab
â–¡ Find "Google" in list
â–¡ Click the toggle to enable
â–¡ âš ï¸ Don't fill in credentials yet
â–¡ âœ… Google provider enabled!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 4: STORAGE (3 minutes)

STEP 8: Create Storage Bucket
â–¡ Click "Storage" (left sidebar)
â–¡ Click "Create new bucket" button
â–¡ Name: avatars
â–¡ âš ï¸ UNCHECK "Private bucket"
  (leave it PUBLIC so images show)
â–¡ Click "Create bucket"
â–¡ âœ… Bucket created!

STEP 9: Set Storage Policies
â–¡ Click into "avatars" bucket
â–¡ Click "Policies" tab
â–¡ Click "New policy" button
â–¡ Choose "For full customization..."
â–¡ Click "Create policy from scratch"
â–¡ Paste SQL below
â–¡ Click "Save policy"

COPY THIS SQL:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE POLICY "Users can upload their own avatar"
  ON storage.objects
  FOR INSERT
  WITH CHECK (
    bucket_id = 'avatars' AND 
    auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Users can update their own avatar"
  ON storage.objects
  FOR UPDATE
  USING (
    bucket_id = 'avatars' AND 
    auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Everyone can view avatars"
  ON storage.objects
  FOR SELECT
  USING (bucket_id = 'avatars');
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 5: APP CONFIGURATION (5 minutes)

STEP 10: Update .env File
â–¡ In your app root, open (or create) .env file
â–¡ Add these lines:

SUPABASE_URL=https://YOUR_PROJECT_ID.supabase.co
SUPABASE_ANON_KEY=YOUR_ANON_KEY_HERE

(Replace with keys from Step 3)

STEP 11: Verify supabaseClient.ts
â–¡ Open src/lib/supabaseClient.ts
â–¡ Make sure it looks like:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.SUPABASE_URL;
const supabaseAnonKey = process.env.SUPABASE_ANON_KEY;

export const supabase = createClient(supabaseUrl!, supabaseAnonKey!);
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–¡ If different, update it to match above

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 6: TESTING (5 minutes)

STEP 12: Test Sign Up
â–¡ Run: expo start --clear
â–¡ Wait for app to load
â–¡ Navigate to sign up
â–¡ Enter email: test@example.com
â–¡ Enter password: TestPass123!
â–¡ Click sign up
â–¡ Should work! âœ…

STEP 13: Check Supabase Data
â–¡ Go back to Supabase Dashboard
â–¡ Click "Table Editor" (left sidebar)
â–¡ Click "auth" â†’ "users"
â–¡ Should see your test@example.com âœ…
â–¡ Click "profiles" table
â–¡ Should see test@example.com profile âœ…

STEP 14: Test Login
â–¡ In app, log out
â–¡ Log back in with test@example.com
â–¡ Should work! âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHAT YOU'VE SET UP:

âœ… Supabase Project
âœ… Database (PostgreSQL)
âœ… auth.users table (auto)
âœ… profiles table
âœ… Trial views
âœ… Email authentication
âœ… Google OAuth (enabled, config later)
âœ… Storage bucket for avatars
âœ… Row Level Security (RLS)
âœ… Environment variables
âœ… Connected to app

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DATABASE STRUCTURE:

profiles table has columns:
  id              UUID (user id)
  email           TEXT (user email)
  full_name       TEXT (display name)
  avatar_url      TEXT (profile picture)
  subscription_tier   TEXT ('free', 'weekly', 'lifetime', 'trial')
  subscription_status TEXT ('active', 'inactive')
  trial_started_at    TIMESTAMP (when trial starts)
  trial_ends_at       TIMESTAMP (when trial ends)
  is_admin        BOOLEAN (admin flag)
  created_at      TIMESTAMP (registration)
  updated_at      TIMESTAMP (last update)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FREE TIER LIMITS (You're on Free):

âœ… Up to 500,000 monthly active users
âœ… 1 GB database storage (PLENTY for testing)
âœ… 1 GB file storage (good for avatars)
âœ… Unlimited API requests
âœ… Auth with email + OAuth
âœ… Real-time capabilities
âœ… SQL access

âŒ No custom domain
âŒ No email support guarantee
âŒ Basic SLA

â†’ Perfect for development & testing
â†’ Upgrade later when needed

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FREE TIER IS ENOUGH FOR:

âœ… Development & testing
âœ… Beta launch (first 10-100 users)
âœ… Learning the system
âœ… Building features

When to upgrade:
â†’ Scale to 1000+ users
â†’ Need advanced features
â†’ Need priority support
â†’ Production SLA required

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHAT'S NEXT:

After this setup complete:

1. âœ… Google OAuth configuration (in Google Cloud)
2. âœ… RevenueCat setup (for payments)
3. âœ… Test full auth flow
4. âœ… Test trial system
5. âœ… Test payment system
6. âœ… Deploy to production

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TROUBLESHOOTING:

Problem: "Column doesn't exist"
â†’ Run the SQL from Step 4 again

Problem: Users can't sign up
â†’ Check email auth enabled in Step 6

Problem: Can't see profile data
â†’ Make sure RLS policies from Step 4 ran

Problem: Email not received
â†’ Check spam folder, retry sign up

Problem: Photos won't upload
â†’ Check storage bucket is PUBLIC (Step 8)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESTIMATED TIME:

Step 1-3: 5 minutes
Step 4-5: 10 minutes
Step 6-7: 5 minutes
Step 8-9: 3 minutes
Step 10-11: 5 minutes
Step 12-14: 5 minutes

TOTAL: ~30 minutes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STATUS: Ready to begin!

Next: Follow the phases above in order.
Ask me questions if stuck on any step!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
